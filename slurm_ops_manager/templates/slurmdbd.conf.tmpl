# slurm.conf file generated by Juju.
DbdHost={{ slurmdbd_hostname }}
DbdAddr={{ slurmdbd_hostname }}

DbdPort={{ slurmdbd_port }}

AuthType=auth/munge
AuthInfo=socket=/var/snap/munge/current/munge.socket.2

SlurmUser=slurm

PidFile=/run/slurmdbd.pid

DebugLevel={{ slurmdbd_debug }} 
LogFile=/var/log/slurmdbd.log

StorageType=accounting_storage/mysql
StorageHost={{ db_hostname }}
StoragePort={{ db_port }}
StoragePass={{ db_password }}
StorageUser={{ db_username }}
StorageLoc={{ db_name }}


ArchiveEvents: "yes"
ArchiveJobs: "yes"
ArchiveResvs: "yes"
ArchiveSteps: "no"
ArchiveSuspend: "no"
ArchiveTXN: "no"
ArchiveUsage: "no"

#ArchiveScript: /usr/sbin/slurm.dbd.archive

DebugLevel: "info"
PurgeEventAfter: "1month"
PurgeJobAfter: "12month"
PurgeResvAfter: "1month"
PurgeStepAfter: "1month"
PurgeSuspendAfter: "1month"
PurgeTXNAfter: "12month"
PurgeUsageAfter: "24month"
